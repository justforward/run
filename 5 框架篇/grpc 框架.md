
_gRPC_ 使用的是HTTP/2 _协议_

# grpc 为什么选择使用http/2 

1.  支持双向流和多路复用：HTTP/2 协议可以在一个 TCP 连接上并行发送多个请求和响应，支持双向流和多路复用，这意味着可以在一个连接上同时传输多个 gRPC 请求和响应，从而提高传输效率和性能。
    
2.  头部压缩：HTTP/2 使用帧和流的概念，每个帧都有自己的帧头信息，这些帧头信息在每个帧之间都有重复，HTTP/2 使用了 HPACK 头部压缩算法，将帧头信息进行压缩，减少了传输的数据量。
    
3.  服务器推送：HTTP/2 支持服务器主动向客户端推送数据，客户端可以在不发送请求的情况下，通过服务端推送的数据来加载页面内容，这样可以减少网络延迟，提高页面的加载速度。
    
4.  安全性：HTTP/2 强制使用 SSL/TLS 加密通信，可以保证通信的安全性和数据的完整性。
    
5.  兼容性：HTTP/2 协议与 HTTP/1.x 兼容，并且可以通过 HTTP/1.x 进行降级处理，可以保证 gRPC 应用在各种不同环境下的兼容性。


# grpc 为什么选择使用protobuf

1.  与XML和JSON相比，作为二进制数据格式，更为简洁和效率高，与 XML 和 JSON 相比，Protocol Buffers 生成的消息体积更小、解析速度更快，从而可以更快地传输和处理数据。
    
2.  跨语言支持：由于 Protocol Buffers 是一种独立于编程语言的数据格式，可以使用各种编程语言生成和解析 Protocol Buffers 消息。这使得不同编程语言之间进行通信更加容易。
    
3.  可扩展性： Protocol Buffers 支持向现有消息添加新字段而不破坏现有代码。这使得它更容易扩展和维护复杂的数据结构。


protobuf的为什么体积更小：相对于json而言，都做了哪些优化？

1）减少了不必要的冗余字段，比如json 中的”{“ ":"
2）在接收端按照顺序进行字段匹配，使用tag二进制的方式进行存储，减少了key字段中字符的传递。
2）针对null字段，不进行传递直接传默认值

